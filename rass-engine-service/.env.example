# ===================================================
# RASS Engine Service Environment Variables
# ===================================================

# --- LLM Planner Configuration ---
# Select the provider for the agentic query planner.
# Options: "openai" or "gemini"
LLM_PLANNER_PROVIDER="openai"

# --- Provider API Keys & Models ---
# Add your API keys here.
OPENAI_API_KEY=your-openai-api-key-here
GEMINI_API_KEY=your-gemini-api-key-here

# Specify the model name for the selected LLM_PLANNER_PROVIDER.
OPENAI_PLANNER_MODEL_NAME="gpt-4o-mini"      # For OpenAI: e.g., "gpt-4o", "gpt-3.5-turbo"
GEMINI_PLANNER_MODEL_NAME="gemini-2.0-flash-lite" # For Gemini: e.g., "gemini-2.5-pro"

# --- Search Term Embedding Configuration ---
# This section determines how search terms *generated by the planner* are embedded.
# It MUST be compatible with the embeddings in your target OpenSearch index.
# Options: "openai" or "gemini"
SEARCH_TERM_EMBEDDING_PROVIDER="gemini"      # "openai" or "gemini". Should match the provider used for the target OpenSearch index.

# Specify the model name for the selected SEARCH_TERM_EMBEDDING_PROVIDER.
OPENAI_EMBED_MODEL_FOR_SEARCH_TERMS="text-embedding-3-small"
GEMINI_EMBED_MODEL_FOR_SEARCH_TERMS="text-embedding-004" # (This is text-embedding-004, 768d)

# --- OpenSearch Configuration ---
# Set to 'opensearch' when running via the project's docker-compose.yml
OPENSEARCH_HOST="opensearch"
OPENSEARCH_PORT="9200"

# IMPORTANT: This MUST match the full index name created by the embedding-service.
# The name is dynamically generated based on the embedding provider and model.
# Example for OpenAI: "knowledge_base_openai_text-embedding-3-small"
# Example for Gemini: "knowledge_base_gemini_text-embedding-004"
OPENSEARCH_INDEX_NAME="knowledge_base"

# This EMBED_DIM MUST match the dimension of embeddings in the target OPENSEARCH_INDEX_NAME.
# AND the dimension of the model specified by SEARCH_TERM_EMBEDDING_PROVIDER + its respective model name
# 1536 for OpenAI's text-embedding-3-small
# 768 for Gemini's text-embedding-004
EMBED_DIM=768

# --- RASS Engine Query Parameters ---
# Default number of K nearest neighbors to retrieve from OpenSearch for each search step.
DEFAULT_K_OPENSEARCH_HITS=20
# Minimum similarity score (0.0-1.0) for KNN results to be considered a match.
OPENSEARCH_SCORE_THRESHOLD=0.60

# --- Server Configuration ---
RASS_ENGINE_PORT=8000